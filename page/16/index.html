<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta><title>Zoctan&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#3273dc"><meta name="application-name" content="Zoctan&#039;s Blog"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="msapplication-TileColor" content="#3273dc"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Zoctan&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Record my footprint in this world."><meta property="og:type" content="blog"><meta property="og:title" content="Zoctan&#039;s Blog"><meta property="og:url" content="https://zoctan.github.io/"><meta property="og:site_name" content="Zoctan&#039;s Blog"><meta property="og:description" content="Record my footprint in this world."><meta property="og:locale" content="en_US"><meta property="og:image" content="https://zoctan.github.io/img/og_image.png"><meta property="article:author" content="Zoctan"><meta property="article:tag" content="zoctan,blog"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://zoctan.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://zoctan.github.io"},"headline":"Zoctan's Blog","image":["https://zoctan.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Zoctan"},"publisher":{"@type":"Organization","name":"Zoctan's Blog","logo":{"@type":"ImageObject","url":"https://zoctan.github.io/img/logo.svg"}},"description":"Record my footprint in this world."}</script><link rel="alternate" href="https://zoctan.github.io/atom.xml" title="Zoctan&#039;s Blog" type="application/atom+xml"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><meta name="msvalidate.01" content="3A666EB8EB887659AE5D32D988405EF2"><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-109619265-1" async></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-109619265-1")</script><script>!function(t,h,e,j,s,n){t.hj=t.hj||function(){(t.hj.q=t.hj.q||[]).push(arguments)},t._hjSettings={hjid:3209077,hjsv:6},s=h.getElementsByTagName("head")[0],(n=h.createElement("script")).async=1,n.src="https://static.hotjar.com/c/hotjar-"+t._hjSettings.hjid+".js?sv="+t._hjSettings.hjsv,s.appendChild(n)}(window,document)</script><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><script data-ad-client="ca-pub-3229148200516708" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><script>(function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();</script><meta name="generator" content="Hexo 6.3.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Zoctan&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2018-02-20T16:00:00.000Z" title="2/21/2018, 12:00:00 AM">2018-02-21</time></span><span class="level-item">Updated&nbsp;<time datetime="2022-10-21T16:40:33.000Z" title="10/22/2022, 12:40:33 AM">2022-10-22</time></span><span class="level-item"><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></span><span class="level-item">32 minutes read (About 4851 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/02/21/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/5%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">动态规划</a></h1><div class="content"><h1 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h1><p>过程：每次决策依赖于当前状态，又随即引起状态的转移。<br>一个决策序列就是在变化的状态中产生出来的，所以，这种多阶段最优化决策解决问题的过程就称为动态规划。</p><h1 id="基本思想与策略"><a href="#基本思想与策略" class="headerlink" title="基本思想与策略"></a>基本思想与策略</h1><p>基本思想与分治法类似，也是将待求解的问题分解为若干个子问题（阶段），按顺序求解子阶段，前一子问题的解，为后一子问题的求解提供了有用的信息。在求解任一子问题时，列出各种可能的局部解，通过决策保留那些有可能达到最优的局部解，丢弃其他局部解。依次解决各子问题，最后一个子问题就是初始问题的解。</p><p>由于动态规划解决的问题多数有重叠子问题这个特点，为减少重复计算，对每一个子问题只解一次，将其不同阶段的不同状态保存在一个二维数组中。</p><p>与分治法最大的差别是：适合于用动态规划法求解的问题，经分解后得到的子问题往往不是互相独立的（即下一个子阶段的求解是建立在上一个子阶段的解的基础上，进行进一步的求解）。</p><h1 id="适用的情况"><a href="#适用的情况" class="headerlink" title="适用的情况"></a>适用的情况</h1><p>能采用动态规划求解的问题的一般要具有3个性质：</p><ol><li>最优化原理：如果问题的最优解所包含的子问题的解也是最优的，就称该问题具有最优子结构，即满足最优化原理。</li><li>无后效性：即某阶段状态一旦确定，就不受这个状态以后决策的影响。也就是说，某状态以后的过程不会影响当前状态。</li><li>有重叠子问题：即子问题之间是不独立的，一个子问题在下一阶段决策中可能被多次使用到。（该性质并不是动态规划适用的必要条件，但是如果没有这条性质，动态规划算法同其他算法相比就不具备优势）</li></ol><h1 id="求解的基本步骤"><a href="#求解的基本步骤" class="headerlink" title="求解的基本步骤"></a>求解的基本步骤</h1><p>动态规划所处理的问题是一个多阶段决策问题，一般由初始状态开始，通过对中间阶段决策的选择，达到结束状态。这些决策形成了一个决策序列，同时确定了完成整个过程的一条活动路线(通常是求最优的活动路线)。</p><p>动态规划的设计都有着一定的模式，一般要经历以下几个步骤：</p><p>初始状态 → │决策１│ → │决策２│ → … → │决策ｎ│ → 结束状态</p><ol><li>划分阶段：按照问题的时间或空间特征，把问题分为若干个阶段。在划分阶段时，注意划分后的阶段一定要是有序的或者是可排序的，否则问题就无法求解。</li><li>确定状态和状态变量：将问题发展到各个阶段时所处于的各种客观情况用不同的状态表示出来。当然，状态的选择要满足无后效性。</li><li>确定决策并写出状态转移方程：因为决策和状态转移有着天然的联系，状态转移就是根据上一阶段的状态和决策来导出本阶段的状态。所以如果确定了决策，状态转移方程也就可写出。但事实上常常是反过来做，根据相邻两个阶段的状态之间的关系来确定决策方法和状态转移方程。</li><li>寻找边界条件：给出的状态转移方程是一个递推式，需要一个递推的终止条件或边界条件。</li></ol><p>一般，只要解决问题的阶段、状态和状态转移决策确定了，就可以写出状态转移方程（包括边界条件）。<br>实际应用中可以按以下几个简化的步骤进行设计：</p><ol><li>分析最优解的性质，并刻画其结构特征。</li><li>递归的定义最优解。</li><li>以自底向上或自顶向下的记忆化方式（备忘录法）计算出最优值</li><li>根据计算最优值时得到的信息，构造问题的最优解</li></ol><h1 id="算法实现的说明"><a href="#算法实现的说明" class="headerlink" title="算法实现的说明"></a>算法实现的说明</h1><p>动态规划的主要难点在于理论上的设计，也就是上面4个步骤的确定，一旦设计完成，实现部分就会非常简单。</p><p>使用动态规划求解问题，最重要的就是确定动态规划三要素：</p><ol><li>问题的阶段</li><li>每个阶段的状态</li><li>从前一个阶段转化到后一个阶段之间的递推关系</li></ol><p>递推关系必须是从次小的问题开始到较大的问题之间的转化，从这个角度来说，动态规划往往可以用递归程序来实现，不过递推可以充分利用前面保存的子问题的解来减少重复计算，所以对于大规模问题来说，有递归不可比拟的优势，这也是动态规划算法的核心之处。</p><p>确定了动态规划的这三要素，整个求解过程就可以用一个最优决策表来描述，最优决策表是一个二维表，其中行表示决策的阶段，列表示问题状态，表格需要填写的数据一般对应此问题的在某个阶段某个状态下的最优值（如最短路径，最长公共子序列，最大价值等），填表的过程就是根据递推关系，从1行1列开始，以行或者列优先的顺序，依次填写表格，最后根据整个表格的数据通过简单的取舍或者运算求得问题的最优解。<br>dp(n, m) &#x3D; max{ dp(n-1, m), dp(n-1, m-w[n]) + P(n, m) }</p><h1 id="经典题型"><a href="#经典题型" class="headerlink" title="经典题型"></a>经典题型</h1><h2 id="背包问题"><a href="#背包问题" class="headerlink" title="背包问题"></a>背包问题</h2><p>0-1背包：每种物品只有一个，只有两种状态：拿或不拿，即0或1。<br>完全背包：每种物品无限个。<br>多重背包：每种物品有限个num[i]。</p><h3 id="0-1背包"><a href="#0-1背包" class="headerlink" title="0-1背包"></a>0-1背包</h3><p>问题描述：<br>有n个物品，它们有各自的重量和价值，给定一个容量固定的背包，如何装才能让背包里装的物品价值总和最大？</p><p>分析：</p><p>二维表dp[i][capacity]：面对第i个物品，且背包容量为capacity时，在做决策后所能获得的最大价值。</p><p>决策：为使背包中物品价值总和最大化，第i个物品应该装进去吗？</p><ol><li><p>当capacity &lt; weight[i]时，背包容量不足以放下第i个物品，不能装。<br>dp[i][capacity] &#x3D; dp[i-1][capacity]，表示和上一次状态一样。</p></li><li><p>当capacity &gt;&#x3D; weight[i]时，背包能放下第i个物品，这时候要考虑装下该物品时能否获得更大价值。<br>若不装：dp[i][capacity] &#x3D; dp[i-1][capacity]<br>若装：dp[i][capacity] &#x3D; dp[i-1][capacity-weight[i]] + value[i]，其中dp[i-1][capacity-weight[i]]表示：在上一次面对第i-1个物品，背包容量为capacity-weight[i]时做出决策后的最大价值。</p></li></ol><p>装不装，就取决于这两个情况下，哪种获得的价值最大。</p><p>由上即得状态转移方程：<br>dp[i][capacity] &#x3D; max{ dp[i-1][capacity], dp[i-1][capacity-weight[i]] + value[i] };</p><p>例题：<br>山洞里共有a, b, c, d, e这5个宝物，重量分别是2, 2, 6, 5, 4，价值分别是6, 3, 5, 4, 6，你有容量为10的背包，怎样装才能带走最多的财富？</p><table><thead><tr><th align="center">物品</th><th align="center">a</th><th align="center">b</th><th align="center">c</th><th align="center">d</th><th align="center">e</th></tr></thead><tbody><tr><td align="center">重量</td><td align="center">2</td><td align="center">2</td><td align="center">6</td><td align="center">5</td><td align="center">4</td></tr><tr><td align="center">价值</td><td align="center">6</td><td align="center">3</td><td align="center">5</td><td align="center">4</td><td align="center">6</td></tr></tbody></table><p>二维表dp[6][11]，根据状态转移方程，依次填好表格。<br>行：5个物品<br>列：背包容量</p><table><thead><tr><th align="center">0</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th><th align="center">5</th><th align="center">6</th><th align="center">7</th><th align="center">8</th><th align="center">9</th><th align="center">10</th></tr></thead><tbody><tr><td align="center">a</td><td align="center">0</td><td align="center">6</td><td align="center">6</td><td align="center">6</td><td align="center">6</td><td align="center">6</td><td align="center">6</td><td align="center">6</td><td align="center">6</td><td align="center">6</td></tr><tr><td align="center">b</td><td align="center">0</td><td align="center">6</td><td align="center">6</td><td align="center">9</td><td align="center">9</td><td align="center">9</td><td align="center">9</td><td align="center">9</td><td align="center">9</td><td align="center">9</td></tr><tr><td align="center">c</td><td align="center">0</td><td align="center">6</td><td align="center">6</td><td align="center">9</td><td align="center">9</td><td align="center">9</td><td align="center">9</td><td align="center">11</td><td align="center">11</td><td align="center">14</td></tr><tr><td align="center">d</td><td align="center">0</td><td align="center">6</td><td align="center">6</td><td align="center">9</td><td align="center">9</td><td align="center">9</td><td align="center">10</td><td align="center">11</td><td align="center">13</td><td align="center">14</td></tr><tr><td align="center">e</td><td align="center">0</td><td align="center">6</td><td align="center">6</td><td align="center">9</td><td align="center">9</td><td align="center">12</td><td align="center">12</td><td align="center">15</td><td align="center">15</td><td align="center">15</td></tr></tbody></table><p>填写过程：</p><table><thead><tr><th align="center">容量</th><th align="left">决策过程</th></tr></thead><tbody><tr><td align="center">1</td><td align="left">都放不下，故都为0。</td></tr><tr><td align="center">……</td><td align="left">……</td></tr><tr><td align="center">4</td><td align="left">面对a时，因为容量4&gt;重量2，且是第1个物品，所以装入a。面对b时，4&gt;2，找到面对a时容量4-2&#x3D;2时的背包最大价值6，若装：6+3&#x3D;9；若不装：6。而9&gt;6，所以装入b。面对……。</td></tr><tr><td align="center">……</td><td align="left">……</td></tr><tr><td align="center">8</td><td align="left">面对……。面对e时，8&gt;4，找到面对d时容量8-4&#x3D;4时的背包最大价值9，若装：9+6&#x3D;15；若不装：11。而15&gt;11，所以装入e。</td></tr></tbody></table><figure class="highlight java"><figcaption><span>二维数组</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">	<span class="comment">// 背包容量</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">capacity</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> String[] items = <span class="keyword">new</span> <span class="title class_">String</span>[] &#123; <span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;e&quot;</span> &#125;;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] weight = <span class="keyword">new</span> <span class="title class_">int</span>[] &#123; <span class="number">2</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span> &#125;;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] value = <span class="keyword">new</span> <span class="title class_">int</span>[] &#123; <span class="number">6</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">6</span> &#125;;</span><br><span class="line">	<span class="comment">// 决策表</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[items.length][capacity + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		decide();</span><br><span class="line">		outPutMaxValue();</span><br><span class="line">		outPutChosenItems();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">decide</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= capacity; j++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; items.length; i++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (j &gt;= weight[i]) &#123;</span><br><span class="line">					<span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">						dp[i][j] = value[i];</span><br><span class="line">						<span class="keyword">continue</span>;</span><br><span class="line">					&#125;</span><br><span class="line">					dp[i][j] = Math.max(dp[i - <span class="number">1</span>][j], dp[i - <span class="number">1</span>][j - weight[i]] + value[i]);</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">						dp[i][j] = <span class="number">0</span>;</span><br><span class="line">						<span class="keyword">continue</span>;</span><br><span class="line">					&#125;</span><br><span class="line">					dp[i][j] = dp[i - <span class="number">1</span>][j];</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">outPutChosenItems</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="type">int</span>[] isChosen = <span class="keyword">new</span> <span class="title class_">int</span>[items.length];</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> items.length - <span class="number">1</span>, c = capacity; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">			<span class="keyword">if</span> (dp[i][c] == dp[i - <span class="number">1</span>][c]) &#123;</span><br><span class="line">				isChosen[i] = <span class="number">0</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				isChosen[i] = <span class="number">1</span>;</span><br><span class="line">				c -= weight[i];</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (i - <span class="number">1</span> == <span class="number">0</span>) &#123;</span><br><span class="line">				isChosen[<span class="number">0</span>] = dp[<span class="number">0</span>][c] &gt; <span class="number">0</span> ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; items.length; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (isChosen[i] == <span class="number">1</span>) &#123;</span><br><span class="line">				System.out.print(items[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">outPutMaxValue</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(dp[items.length - <span class="number">1</span>][capacity]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>一维数组</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">capacity</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> String[] items = <span class="keyword">new</span> <span class="title class_">String</span>[] &#123; <span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;e&quot;</span> &#125;;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] weight = <span class="keyword">new</span> <span class="title class_">int</span>[] &#123; <span class="number">2</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span> &#125;;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] value = <span class="keyword">new</span> <span class="title class_">int</span>[] &#123; <span class="number">6</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">6</span> &#125;;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[capacity + <span class="number">1</span>];</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[][] path = <span class="keyword">new</span> <span class="title class_">int</span>[items.length][capacity];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		decide();</span><br><span class="line">		outPutMaxValue();</span><br><span class="line">		outPutChosenItems();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">decide</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; items.length; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> capacity; j &gt;= weight[i]; j--) &#123;</span><br><span class="line">				<span class="keyword">if</span> (dp[j] &lt; dp[j - weight[i]] + value[i]) &#123;</span><br><span class="line">					dp[j] = dp[j - weight[i]] + value[i];</span><br><span class="line">					path[i][j] = <span class="number">1</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">outPutChosenItems</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> items.length - <span class="number">1</span>, c = capacity; i &gt;= <span class="number">0</span> &amp;&amp; c &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">			<span class="keyword">if</span> (path[i][c] == <span class="number">1</span>) &#123;</span><br><span class="line">				System.out.print(items[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">				c -= weight[i];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">outPutMaxValue</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(dp[capacity]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=2546">HDU2456：饭卡</a><br>如果购买一个商品前，卡上剩余金额&gt;&#x3D;5元，就一定可以购买成功（即使购买后卡上余额为负）；否则无法购买（即使金额足够）。<br>某天，饭堂有n种菜出售，每种菜可购买一次。已知菜的价格和卡上余额，问最少可使卡上余额为多少？</p><p>输入：<br>第一行为整数n，表示菜的数量（n&lt;&#x3D;1000）<br>第二行包括n个正整数，表示每种菜的价格（不超过50）<br>第三行为正整数m，表示卡上的余额（m&lt;&#x3D;1000）</p><p>输出：<br>卡上最小余额</p><p>样例输入1：<br>1<br>50<br>5</p><p>样例输出1：<br>-45</p><p>样例输入2：<br>10<br>1 2 3 2 1 1 2 3 2 1<br>50</p><p>样例输出2：<br>32</p><p>分析：<br>每种菜只有买和不买2种情况，并且前面买了菜后剩余的钱影响后面的决策，所以是动态规划，而且是0-1背包。<br>什么时候余额最少呢？应该是余额最接近5时，选最贵的菜，余额最少。<br>比如只有5块钱，类似样例输入1那样买最贵的50块，这样就变最少了。</p><p>因为只有余额&gt;&#x3D;5块钱才能用，所以5块钱要保留下来。<br>更进一步地转化为0-1背包：保留余额中的5块钱，而另一部分钱（背包容量）就尽可能花到剩下最少（最贵的菜还不能买），最后再去买最贵的菜。</p><p>比如：有3种菜，价格分别是2, 3, 1，卡上余额为7。<br>保留5块钱，为了尽可能花完剩下的7-5&#x3D;2块钱，就买了第1个菜，2块钱就花完了，最后用5块钱买最贵的那个3块钱的菜，这样最少余额为2。</p><figure class="highlight java"><figcaption><span>一维数组 AC</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(<span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(System.in));</span><br><span class="line">		<span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">			<span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">			<span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="type">int</span>[] need = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">				need[i] = scanner.nextInt();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="type">int</span> <span class="variable">card</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">			<span class="comment">// 如果卡余额不足5块钱，买不了菜</span></span><br><span class="line">			<span class="keyword">if</span> (card &lt; <span class="number">5</span>) &#123;</span><br><span class="line">				System.out.println(card);</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">// 方便后面选最贵菜</span></span><br><span class="line">			Arrays.sort(need);</span><br><span class="line">			<span class="keyword">if</span> (card == <span class="number">5</span> || n == <span class="number">1</span>) &#123;</span><br><span class="line">				System.out.println(card - need[n - <span class="number">1</span>]);</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="comment">// 分成5块钱和另外剩下的一部分钱</span></span><br><span class="line">				<span class="type">int</span> <span class="variable">rest</span> <span class="operator">=</span> card - <span class="number">5</span>;</span><br><span class="line">				<span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[rest + <span class="number">1</span>];</span><br><span class="line">				<span class="comment">// 最贵的菜要留到最后买，所以这里不买最贵的菜，故 n-1</span></span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">					<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> rest; j &gt;= need[i]; j--) &#123;</span><br><span class="line">						dp[j] = Math.max(dp[j], dp[j - need[i]] + need[i]);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				System.out.println(card - dp[rest] - need[n - <span class="number">1</span>]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=1171">HDU1171：Big Event in HDU</a><br>Nowadays, we all know that Computer College is the biggest department in HDU. But, maybe you don’t know that Computer College had ever been split into Computer College and Software College in 2002.<br>The splitting is absolutely a big event in HDU! At the same time, it is a trouble thing too. All facilities must go halves. First, all facilities are assessed, and two facilities are thought to be same if they have the same value. It is assumed that there is N (0&lt;N&lt;1000) kinds of facilities (different value, different kinds).</p><p>输出：<br>Input contains multiple test cases. Each test case starts with a number N (0 &lt; N &lt;&#x3D; 50 – the total number of different facilities). The next N lines contain an integer V (0&lt;V&lt;&#x3D;50 –value of facility) and an integer M (0&lt;M&lt;&#x3D;100 –corresponding number of the facilities) each. You can assume that all V are different.<br>A test case starting with a negative integer terminates input and this test case is not to be processed.</p><p>输出：<br>For each case, print one line containing two integers A and B which denote the value of Computer College and Software College will get respectively. A and B should be as equal as possible. At the same time, you should guarantee that A is not less than B.</p><p>样例输入：<br>2<br>10 1<br>20 1<br>3<br>10 1<br>20 2<br>30 1<br>-1</p><p>样例输出：<br>20 10<br>40 40</p><p>大意：A，B学院平分所有的设施装置，假设有N种装置（0&lt;N&lt;1000），不同装置不同价值（如果有2个价值一样的装置，那就把它们看成一样的），要求平分后的价值差不多，如果不相等，A得到的价值应该大于B的。</p><p>分析：<br>多重背包，价值和重量一样。</p><p>将所有装置价值总和&#x2F;2后当成背包大小，这个背包就相当于学院B，然后去拿装置，拿剩的就是另一个学院A的。<br>比如样例1：<br>10 1<br>20 1<br>背包大小就是15，学院B只能拿10，而学院A就拿剩下的20。</p><p>注意：n&lt;0才退出输入。</p><figure class="highlight java"><figcaption><span>AC</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(<span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(System.in));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">		<span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">			<span class="type">int</span>[] value = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">			<span class="type">int</span>[] num = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">				value[i] = scanner.nextInt();</span><br><span class="line">				num[i] = scanner.nextInt();</span><br><span class="line">				sum += value[i] * num[i];</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="type">int</span> <span class="variable">capacity</span> <span class="operator">=</span> sum &gt;&gt; <span class="number">1</span>;</span><br><span class="line">			<span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[capacity + <span class="number">1</span>];</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; num[i]; k++) &#123;</span><br><span class="line">					<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> capacity; j &gt;= value[i]; j--) &#123;</span><br><span class="line">						dp[j] = Math.max(dp[j], dp[j - value[i]] + value[i]);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println((sum - dp[capacity]) + <span class="string">&quot; &quot;</span> + dp[capacity]);</span><br><span class="line">			n = scanner.nextInt();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=2602">HDU2602：Bone Collector</a><br>裸0-1背包</p><p>输入：<br>第一行为整数T，表示测试样例个数，每个样例三行<br>第二行包括两个整数N，V，分别表示骨头数量和背包体积(N&lt;&#x3D;1000，V&lt;&#x3D;1000)<br>第三行包括N个整数，表示每根骨头的价值<br>第四行包括N个整数，表示每根骨头的体积</p><p>输出：<br>最大价值</p><p>样例输入：<br>1<br>5 10<br>1 2 3 4 5<br>5 4 3 2 1</p><p>样例输出：<br>14</p><figure class="highlight java"><figcaption><span>AC</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(<span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(System.in));</span><br><span class="line">		<span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">		<span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (; n &gt; <span class="number">0</span>; n--) &#123;</span><br><span class="line">			<span class="type">int</span> <span class="variable">nums</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">			<span class="type">int</span> <span class="variable">bag</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">			<span class="type">int</span>[] value = <span class="keyword">new</span> <span class="title class_">int</span>[nums];</span><br><span class="line">			<span class="type">int</span>[] volume = <span class="keyword">new</span> <span class="title class_">int</span>[nums];</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums; i++) &#123;</span><br><span class="line">				value[i] = scanner.nextInt();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums; i++) &#123;</span><br><span class="line">				volume[i] = scanner.nextInt();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[bag + <span class="number">1</span>];</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums; i++) &#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> bag; j &gt;= volume[i]; j--) &#123;</span><br><span class="line">					dp[j] = Math.max(dp[j], dp[j - volume[i]] + value[i]);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(dp[bag]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=2639">HDU2639：Bone Collector II</a><br>Today we are not desiring the maximum value of bones,but the K-th maximum value of the bones.NOTICE that,we considerate two ways that get the same value of bones are the same.That means,it will be a strictly decreasing sequence from the 1st maximum , 2nd maximum .. to the K-th maximum.</p><p>If the total number of different values is less than K,just ouput 0.</p><p>输入：<br>The first line contain a integer T , the number of cases.<br>Followed by T cases , each case three lines , the first line contain two integer N , V, K(N &lt;&#x3D; 100 , V &lt;&#x3D; 1000 , K &lt;&#x3D; 30)representing the number of bones and the volume of his bag and the K we need. And the second line contain N integers representing the value of each bone. The third line contain N integers representing the volume of each bone.</p><p>输出：<br>One integer per line representing the K-th maximum of the total value (this number will be less than 231).</p><p>样例输入：<br>3<br>5 10 2<br>1 2 3 4 5<br>5 4 3 2 1<br>5 10 12<br>1 2 3 4 5<br>5 4 3 2 1<br>5 10 16<br>1 2 3 4 5<br>5 4 3 2 1</p><p>样例输出：<br>12<br>2<br>0</p><p>分析：<br>这次是找第K个最优解，上一题是第1个最优。</p><p>第K个最优解：<br>在0-1背包中，状态数组是f[c]，表示在容量为c时的最优决策，而不是最优的并没有保存下来。<br>比如：f[c] &#x3D; max{1, 2}中，最优f[c] &#x3D; 2，而1被舍弃了。</p><p>而现在，我不仅想知道最优决策，我还想知道稍微差一点的决策，即第2决策、第3决策……排个名。<br>f[c]我们可以看做是f[c][1]这样的二维数组，它的第二维只有一个元素，也就是最优决策。<br>现在我们增大第二维，比如：f[c][3]，表示不仅保留了最优解1，次解2，3也保留下来了。</p><p>即在决策过程中，不把前一个状态的最优解扔掉，而是保存下来。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(<span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(System.in));</span><br><span class="line">		<span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">		<span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (; n &gt; <span class="number">0</span>; n--) &#123;</span><br><span class="line">			<span class="type">int</span> <span class="variable">nums</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">			<span class="type">int</span> <span class="variable">bag</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">			<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">			<span class="type">int</span>[] value = <span class="keyword">new</span> <span class="title class_">int</span>[nums];</span><br><span class="line">			<span class="type">int</span>[] volume = <span class="keyword">new</span> <span class="title class_">int</span>[nums];</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums; i++) &#123;</span><br><span class="line">				value[i] = scanner.nextInt();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums; i++) &#123;</span><br><span class="line">				volume[i] = scanner.nextInt();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[bag + <span class="number">1</span>][<span class="number">31</span>];</span><br><span class="line">			<span class="type">int</span>[] a = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">31</span>], b = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">31</span>];</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums; i++) &#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> bag; j &gt;= volume[i]; j--) &#123;</span><br><span class="line">					<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> <span class="number">1</span>; t &lt;= k; t++) &#123;</span><br><span class="line">						<span class="comment">// 把解都保存起来</span></span><br><span class="line">						a[t] = dp[j][t];</span><br><span class="line">						b[t] = dp[j - volume[i]][t] + value[i];</span><br><span class="line">					&#125;</span><br><span class="line">					a[k + <span class="number">1</span>] = b[k + <span class="number">1</span>] = -<span class="number">1</span>;</span><br><span class="line">					<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> <span class="number">1</span>, ai = <span class="number">1</span>, bi = <span class="number">1</span>;</span><br><span class="line">					<span class="comment">// 下面的循环相当于求a和b并集，也就是所有的可能解</span></span><br><span class="line">					<span class="keyword">while</span> (t &lt;= k &amp;&amp; (a[ai] &lt;=k || b[bi] &lt;=k)) &#123;</span><br><span class="line">						<span class="keyword">if</span> (a[ai] &gt; b[bi]) &#123;</span><br><span class="line">							dp[j][t] = a[ai];</span><br><span class="line">							ai++;</span><br><span class="line">						&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">							dp[j][t] = b[bi];</span><br><span class="line">							bi++;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">if</span> (dp[j][t] != dp[j][t - <span class="number">1</span>]) &#123;</span><br><span class="line">							t++;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(dp[bag][k]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="完全背包"><a href="#完全背包" class="headerlink" title="完全背包"></a>完全背包</h3><figure class="highlight java"><figcaption><span>一维数组</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">capacity</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> String[] items = <span class="keyword">new</span> <span class="title class_">String</span>[] &#123; <span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;e&quot;</span> &#125;;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] weight = <span class="keyword">new</span> <span class="title class_">int</span>[] &#123; <span class="number">2</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span> &#125;;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] value = <span class="keyword">new</span> <span class="title class_">int</span>[] &#123; <span class="number">6</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">6</span> &#125;;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[capacity + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		decide();</span><br><span class="line">		outPutMaxValue();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">decide</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; items.length; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> weight[i]; j &lt;= capacity; j++) &#123;</span><br><span class="line">				dp[j] = Math.max(dp[j], dp[j - weight[i]] + value[i]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">outPutMaxValue</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(dp[capacity]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="多重背包"><a href="#多重背包" class="headerlink" title="多重背包"></a>多重背包</h3><h4 id="模版"><a href="#模版" class="headerlink" title="模版"></a>模版</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">capacity</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> String[] items = <span class="keyword">new</span> <span class="title class_">String</span>[] &#123; <span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;e&quot;</span> &#125;;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] weight = <span class="keyword">new</span> <span class="title class_">int</span>[] &#123; <span class="number">2</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span> &#125;;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] value = <span class="keyword">new</span> <span class="title class_">int</span>[] &#123; <span class="number">6</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">6</span> &#125;;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] num = <span class="keyword">new</span> <span class="title class_">int</span>[] &#123; <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span> &#125;;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[capacity + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		decide();</span><br><span class="line">		outPutMaxValue();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">decide</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; items.length; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; num[i]; k++) &#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> capacity; j &gt;= weight[i]; j--) &#123;</span><br><span class="line">					dp[j] = Math.max(dp[j], dp[j - weight[i]] + value[i]);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">outPutMaxValue</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(dp[capacity]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h4><p><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=2159">HDU2159：FATE</a><br>最近xhd正在玩一款叫做FATE的游戏，为了得到极品装备，xhd在不停的杀怪做任务。<br>久而久之xhd开始对杀怪产生的厌恶感，但又不得不通过杀怪来升完这最后一级。<br>现在的问题是，xhd升掉最后一级还需n的经验值，xhd还留有m的忍耐度，每杀一个怪xhd会得到相应的经验，并减掉相应的忍耐度。<br>当忍耐度降到0或者0以下时，xhd就不会玩这游戏。xhd还说了他最多只杀s只怪。请问他能升掉这最后一级吗？</p><p>输入：<br>输入数据有多组，对于每组数据第一行输入n，m，k，s(0 &lt; n,m,k,s &lt; 100)四个正整数。分别表示还需的经验值，保留的忍耐度，怪的种数和最多的杀怪数。接下来输入k行数据。每行数据输入两个正整数a，b(0 &lt; a,b &lt; 20)；分别表示杀掉一只这种怪xhd会得到的经验值和会减掉的忍耐度。(每种怪都有无数个)</p><p>输出：<br>输出升完这级还能保留的最大忍耐度，如果无法升完这级输出-1。</p><p>样例输入：<br>10 10 1 10<br>1 1<br>10 10 1 9<br>1 1<br>9 10 2 10<br>1 1<br>2 2</p><p>样例输出：<br>0<br>-1<br>1</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2018-02-20T16:00:00.000Z" title="2/21/2018, 12:00:00 AM">2018-02-21</time></span><span class="level-item">Updated&nbsp;<time datetime="2022-10-21T16:40:33.000Z" title="10/22/2022, 12:40:33 AM">2022-10-22</time></span><span class="level-item"><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></span><span class="level-item">14 minutes read (About 2079 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/02/21/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/5%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%AE%97%E6%B3%95/%E5%9B%9E%E6%BA%AF%E6%B3%95/">回溯法</a></h1><div class="content"><h1 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h1><p>类似枚举的搜索尝试过程，主要是在搜索尝试过程中寻找问题的解，当发现已不满足求解条件时，就“回溯”返回，尝试别的路径。</p><p>设想把你放在一个迷宫里，想要走出迷宫，最直接的办法是什么呢？<br>没错，试。先选一条路走起，走不通就往回退尝试别的路，走不通继续往回退，直到找到出口或所有路都试过走不出去为止。</p><h1 id="回顾深度优先搜索"><a href="#回顾深度优先搜索" class="headerlink" title="回顾深度优先搜索"></a>回顾深度优先搜索</h1><p>左图是一个无向图，从点1开始的DFS过程可能是下图右的情况，其中实线表示搜索时的路径，虚线表示返回时的路径：</p><p><img src="/2018/02/21/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/5%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%AE%97%E6%B3%95/%E5%9B%9E%E6%BA%AF%E6%B3%95/DFS.png" alt="DFS" loading="lazy"></p><h1 id="基本思想与策略"><a href="#基本思想与策略" class="headerlink" title="基本思想与策略"></a>基本思想与策略</h1><p>在包含问题的所有解的解空间树中，按照<strong>深度优先搜索</strong>的策略，从根结点出发深度探索解空间树。<br>当探索到某一结点时，先判断该结点是否包含问题的解：</p><ul><li>包含：从该结点出发继续探索下去。</li><li>不包含：逐层向其祖先结点回溯。</li></ul><p>回溯法就是对隐式图的深度优先搜索算法。</p><ul><li>求问题的所有解时，要回溯到根，且根结点的所有可行的子树都已被搜索遍才结束。</li><li>求任一个解时，只要搜索到问题的一个解就可以结束。</li></ul><h1 id="求解的基本步骤"><a href="#求解的基本步骤" class="headerlink" title="求解的基本步骤"></a>求解的基本步骤</h1><ol><li>针对所给问题，定义问题的解空间；</li><li>确定易于搜索的解空间结构；</li><li>以深度优先方式搜索解空间，并在搜索过程中用剪枝函数避免无效搜索。</li></ol><h1 id="子集树与排列树"><a href="#子集树与排列树" class="headerlink" title="子集树与排列树"></a>子集树与排列树</h1><p>下面的两棵解空间树是回溯法解题时常遇到的两类典型的解空间树。</p><p>（1）从n个元素的集合S中找出满足某种性质的子集（相应的解空间树称为子集树）。</p><p><img src="/2018/02/21/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/5%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%AE%97%E6%B3%95/%E5%9B%9E%E6%BA%AF%E6%B3%95/%E5%AD%90%E9%9B%86%E6%A0%91.png" alt="子集树" loading="lazy"></p><p>如：0-1背包问题(如上图)所相应的解空间树就是子集树，这类子集树通常有$2^n$个叶结点，其结点总个数为$2^n+1 -1$。遍历子集树的算法需时间O($2^n$)。</p><p>（2）确定n个元素满足某种性质的排列（相应的解空间树称为排列树）。</p><p><img src="/2018/02/21/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/5%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%AE%97%E6%B3%95/%E5%9B%9E%E6%BA%AF%E6%B3%95/%E6%8E%92%E5%88%97%E6%A0%91.png" alt="排列树" loading="lazy"></p><p>如：旅行售货员问题：</p><p>某售货员要到4个城市去推销商品，已知各城市之间的路程，请问他应该如何选定一条从城市1出发，经过每个城市一遍，最后回到城市1的路线，使得总的周游路程最小？</p><p><img src="/2018/02/21/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/5%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%AE%97%E6%B3%95/%E5%9B%9E%E6%BA%AF%E6%B3%95/%E6%97%85%E8%A1%8C%E5%94%AE%E8%B4%A7%E5%91%98%E9%97%AE%E9%A2%98.png" alt="旅行售货员问题" loading="lazy"></p><p>该题的解空间树就是排列树，这类排列树通常有n!个叶结点。遍历子集树的算法需时间O(n!)。</p><h1 id="基本框架"><a href="#基本框架" class="headerlink" title="基本框架"></a>基本框架</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BackTrack</span> &#123;</span><br><span class="line">    <span class="comment">// 原空间</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] originalCurrentAnswer;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">BackTrack</span><span class="params">(<span class="type">int</span>[] originalCurrentAnswer)</span> &#123;</span><br><span class="line">		BackTrack.originalCurrentAnswer = originalCurrentAnswer;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 回溯法</span></span><br><span class="line"><span class="comment">	 * @param currentAnswer 当前解空间</span></span><br><span class="line"><span class="comment">	 * @param currentDepth 当前搜索深度</span></span><br><span class="line"><span class="comment">	 * @param args 其他参数</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">backTrack</span><span class="params">(<span class="type">int</span>[] currentAnswer, <span class="type">int</span> currentDepth, String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// 判断当前的部分解向量</span></span><br><span class="line">        <span class="comment">// currentAnswer[1...currentDepth]是否是一个符合条件的解</span></span><br><span class="line">		<span class="keyword">if</span> (isAnswer(currentAnswer, currentDepth, args)) &#123;</span><br><span class="line">			<span class="comment">// 对于符合条件的解进行处理，通常是输出、计数等</span></span><br><span class="line">			dealAnswer(currentAnswer, currentDepth, args);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="comment">// 根据当前状态，构造这一步可能的答案</span></span><br><span class="line">			<span class="type">int</span>[] possibleAnswer = buildPossibleAnswer(currentAnswer, currentDepth, args);</span><br><span class="line">			<span class="type">int</span> <span class="variable">possibleAnswerLength</span> <span class="operator">=</span> possibleAnswer.length;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; possibleAnswerLength; i++) &#123;</span><br><span class="line">				currentAnswer[currentDepth] = possibleAnswer[i];</span><br><span class="line">				<span class="comment">// 前者将采取的选择更新到原始数据结构上，后者把这一行为撤销。</span></span><br><span class="line">				make(currentAnswer, currentDepth, args);</span><br><span class="line">				<span class="comment">// 剪枝</span></span><br><span class="line">				<span class="keyword">if</span> (pruning(currentAnswer, currentDepth, args)) &#123;</span><br><span class="line">					backTrack(currentAnswer, currentDepth + <span class="number">1</span>, args);</span><br><span class="line">				&#125;</span><br><span class="line">				unmake(currentAnswer, currentDepth, args);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="经典题型"><a href="#经典题型" class="headerlink" title="经典题型"></a>经典题型</h1><h2 id="求集合的所有子集"><a href="#求集合的所有子集" class="headerlink" title="求集合的所有子集"></a>求集合的所有子集</h2><p><img src="/2018/02/21/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/5%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%AE%97%E6%B3%95/%E5%9B%9E%E6%BA%AF%E6%B3%95/%E9%9B%86%E5%90%88%E7%9A%84%E6%89%80%E6%9C%89%E5%AD%90%E9%9B%86.png" alt="集合的所有子集" loading="lazy"></p><p>对于每个元素都有选和不选两种路径（1选，0不选）<br>解空间就是集合选与不选的状态，这里初始是｛0，0，0｝，也是问题的一个解，空集。<br>这里没有剪枝（具体问题具体加），直接就是深度搜索，直到当前深度等于集合的大小，就可以输出了。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BackTrack</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] originalCurrentAnswer;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">BackTrack</span><span class="params">(<span class="type">int</span>[] originalCurrentAnswer)</span> &#123;</span><br><span class="line">		BackTrack.originalCurrentAnswer = originalCurrentAnswer;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">backTrack</span><span class="params">(<span class="type">int</span>[] currentAnswer, <span class="type">int</span> currentDepth)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (isAnswer(currentAnswer, currentDepth)) &#123;</span><br><span class="line">			dealAnswer(currentAnswer, currentDepth);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="type">int</span>[] possibleAnswer = buildPossibleAnswer(currentAnswer, currentDepth);</span><br><span class="line">			<span class="type">int</span> <span class="variable">possibleAnswerLength</span> <span class="operator">=</span> possibleAnswer.length;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; possibleAnswerLength; i++) &#123;</span><br><span class="line">				currentAnswer[currentDepth] = possibleAnswer[i];</span><br><span class="line">                backTrack(currentAnswer, currentDepth + <span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isAnswer</span><span class="params">(<span class="type">int</span>[] currentAnswer, <span class="type">int</span> currentDepth)</span> &#123;</span><br><span class="line">        <span class="comment">// 当前搜索深度已达到原空间的深度</span></span><br><span class="line">		<span class="keyword">return</span> currentDepth == originalCurrentAnswer.length;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * 按位对应</span></span><br><span class="line"><span class="comment">     * 如集合A=&#123;a,b&#125;</span></span><br><span class="line"><span class="comment">     * 对于任意一个元素，在每个子集中，要么存在，要么不存在 </span></span><br><span class="line"><span class="comment">     * 映射为子集： </span></span><br><span class="line"><span class="comment">     * (1,1)-&gt;(a,b) (1,0)-&gt;(a) (0,1)-&gt;(b) (0,0)-&gt;空集</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] buildPossibleAnswer(<span class="type">int</span>[] currentAnswer, <span class="type">int</span> currentDepth) &#123;</span><br><span class="line">		<span class="comment">// 选or不选即 1, 0</span></span><br><span class="line">		<span class="type">int</span>[] isChosen = &#123; <span class="number">1</span>, <span class="number">0</span> &#125;;</span><br><span class="line">		<span class="keyword">return</span> isChosen;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">dealAnswer</span><span class="params">(<span class="type">int</span>[] currentAnswer, <span class="type">int</span> currentDepth)</span> &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; currentDepth; i++) &#123;</span><br><span class="line">            <span class="comment">// 如果选，则输出</span></span><br><span class="line">			<span class="keyword">if</span> (currentAnswer[i] == <span class="number">1</span>) &#123;</span><br><span class="line">				System.out.print(originalCurrentAnswer[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="求全排列"><a href="#求全排列" class="headerlink" title="求全排列"></a>求全排列</h2><p><img src="/2018/02/21/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/5%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%AE%97%E6%B3%95/%E5%9B%9E%E6%BA%AF%E6%B3%95/%E5%85%A8%E6%8E%92%E5%88%97.png" alt="全排列" loading="lazy"></p><p>交换两个位置的值，然后进入下一个深度，直到当前深度达到序列的长度。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">backTrack</span><span class="params">(<span class="type">char</span>[] currentAnswer, <span class="type">int</span> currentDepth, <span class="type">int</span> length)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (currentDepth == length) &#123;</span><br><span class="line">        System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(currentAnswer));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> currentDepth; i &lt; length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isUnique(currentAnswer, currentDepth, i)) &#123; <span class="comment">// 剪枝（去重）</span></span><br><span class="line">                swap(currentAnswer, currentDepth, i); <span class="comment">// 交换元素</span></span><br><span class="line">                backTrack(currentAnswer, currentDepth + <span class="number">1</span>, length);</span><br><span class="line">                swap(currentAnswer, currentDepth, i); <span class="comment">// 还原</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isUnique</span><span class="params">(<span class="type">char</span>[] currentAnswer, <span class="type">int</span> currentDepth, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> currentDepth; i &lt; length; i++)</span><br><span class="line">        <span class="keyword">if</span> (currentAnswer[i] == currentAnswer[k])</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">char</span>[] currentAnswer, <span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">char</span> <span class="variable">tmp</span> <span class="operator">=</span> currentAnswer[n];</span><br><span class="line">    currentAnswer[n] = currentAnswer[m];</span><br><span class="line">    currentAnswer[m] = tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="八皇后问题"><a href="#八皇后问题" class="headerlink" title="八皇后问题"></a>八皇后问题</h2><p>将八个皇后摆在一张8*8的国际象棋棋盘上，使每个皇后都无法吃掉别的皇后，一共有多少种摆法？</p><blockquote><p>在国际象棋中，皇后是最强大的一枚棋子，可以吃掉与其在同行、同列和同斜线的敌方棋子</p></blockquote><p>一种可能的情况：</p><p><img src="/2018/02/21/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/5%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%AE%97%E6%B3%95/%E5%9B%9E%E6%BA%AF%E6%B3%95/%E5%85%AB%E7%9A%87%E5%90%8E%E9%97%AE%E9%A2%98.png" alt="八皇后问题" loading="lazy"></p><ol><li>从空棋盘起，逐行放置棋子。</li><li>每在一个布局中放下一个棋子，即推演到下一个新的布局。</li><li>如果当前行上没有可合法放置棋子的位置，则回溯到上一行，重新布放上一行的棋子。</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BackTrack</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> DIM;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">BackTrack</span><span class="params">(<span class="type">int</span> DIM)</span> &#123;</span><br><span class="line">		BackTrack.DIM = DIM;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">backTrack</span><span class="params">(<span class="type">int</span>[][] chess, <span class="type">int</span> row, <span class="type">int</span>[] isColumnCollision)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (isAnswer(row)) &#123;</span><br><span class="line">			dealAnswer(chess);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; DIM; i++) &#123;</span><br><span class="line">                <span class="comment">// 同列存在皇后</span></span><br><span class="line">                <span class="comment">// 或同对角线存在皇后</span></span><br><span class="line">                <span class="comment">// 因为每次都是新的一行，所以不用检查行是否存在皇后</span></span><br><span class="line">				<span class="keyword">if</span> (isColumnCollision[i] == <span class="number">1</span> || isDiagonalCollision(chess, row, i))</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				chess[row][i] = <span class="number">1</span>;</span><br><span class="line">				isColumnCollision[i] = <span class="number">1</span>;</span><br><span class="line">				backTrack(chess, row + <span class="number">1</span>, isColumnCollision);</span><br><span class="line">				chess[row][i] = <span class="number">0</span>;</span><br><span class="line">				isColumnCollision[i] = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 同对角线是否冲突</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isDiagonalCollision</span><span class="params">(<span class="type">int</span>[][] chess, <span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="comment">// 以当前皇后坐标为起点，到左上角的对角线</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> x - <span class="number">1</span>, j = y - <span class="number">1</span>; i &gt;= <span class="number">0</span> &amp;&amp; j &gt;= <span class="number">0</span>; i--, j--)</span><br><span class="line">			<span class="keyword">if</span> (chess[i][j] == <span class="number">1</span>)</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">// 到右上角的对角线</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> x - <span class="number">1</span>, j = y + <span class="number">1</span>; i &gt;= <span class="number">0</span> &amp;&amp; j &lt; DIM; i--, j++)</span><br><span class="line">			<span class="keyword">if</span> (chess[i][j] == <span class="number">1</span>)</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isAnswer</span><span class="params">(<span class="type">int</span> row)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> row == DIM;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">dealAnswer</span><span class="params">(<span class="type">int</span>[][] chess)</span> &#123;</span><br><span class="line">		count += <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; DIM; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; DIM; j++) &#123;</span><br><span class="line">				System.out.print(chess[i][j] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println();</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考文章：</p><ul><li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/bigmoyan/p/4521683.html">回溯法与八皇后问题</a></li></ul><h2 id="火力网问题"><a href="#火力网问题" class="headerlink" title="火力网问题"></a>火力网问题</h2><p>在一个n*n的网格里，每个网格可能为“墙壁”（用x表示）和“街道”（用o表示）。现在在街道放置碉堡，每个碉堡可以向上下左右四个方向开火，子弹射程无限远。墙壁可以阻挡子弹。问最多能放置多少个碉堡，使它们彼此不会互相摧毁。</p><p>如下图，墙壁用黑正方形表示，街道用空白正方形表示，圆球就代表碉堡。</p><p><img src="/2018/02/21/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/5%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%AE%97%E6%B3%95/%E5%9B%9E%E6%BA%AF%E6%B3%95/%E7%81%AB%E5%8A%9B%E7%BD%91%E9%97%AE%E9%A2%98.png" alt="火力网问题" loading="lazy"></p><p>1、2、3可行，4、5不可行。因为4、5的两个碉堡同行、同列，他们会互相攻击。</p><p>类似八皇后问题</p><p>参考文章：</p><ul><li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/Creator/archive/2011/05/20/2052341.html">回溯算法（解火力网问题）</a></li></ul></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2018-02-20T16:00:00.000Z" title="2/21/2018, 12:00:00 AM">2018-02-21</time></span><span class="level-item">Updated&nbsp;<time datetime="2022-10-21T16:40:33.000Z" title="10/22/2022, 12:40:33 AM">2022-10-22</time></span><span class="level-item"><a class="link-muted" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></span><span class="level-item">7 minutes read (About 1037 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/02/21/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/5%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%AE%97%E6%B3%95/%E8%B4%AA%E5%BF%83%E6%B3%95/">贪心法</a></h1><div class="content"><h1 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h1><p>所谓贪心是指：在对问题求解时，总是做出在当前看来是最好的选择。<br>也就是说，不从整体最优上加以考虑，所做出的仅是在某种意义上的局部最优解。</p><p>贪心法没有固定的算法框架，算法设计的关键是贪心策略的选择。</p><p>注意：</p><ul><li>贪心算法不是对所有问题都能得到整体最优解。</li><li>选择的贪心策略必须具备无后效性，即某个状态以后的过程不会影响以前的状态，只与当前状态有关。</li></ul><p>所以对所采用的贪心策略一定要仔细分析其是否满足无后效性。</p><h1 id="求解的基本步骤"><a href="#求解的基本步骤" class="headerlink" title="求解的基本步骤"></a>求解的基本步骤</h1><ol><li>建立数学模型来描述问题。</li><li>把求解的问题分成若干个子问题。</li><li>对每个子问题求解，得到子问题的局部最优解。</li><li>把子问题的局部最优解合成原来解问题的一个解。</li></ol><p>贪心策略适用的前提是：局部最优策略能导致产生全局最优解。</p><p>实际上，贪心算法适用的情况很少。<br>一般，对一个问题分析是否适用于贪心算法，可以先选择该问题下的几个实际数据进行分析，就可做出判断。</p><h1 id="基本框架"><a href="#基本框架" class="headerlink" title="基本框架"></a>基本框架</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">从问题的某一初始解出发；</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (能朝给定总目标前进一步) &#123;  </span><br><span class="line">	利用可行的决策，求出可行解的一个解元素；</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">由所有解元素组合成问题的一个可行解；</span><br></pre></td></tr></table></figure><h1 id="例题分析"><a href="#例题分析" class="headerlink" title="例题分析"></a>例题分析</h1><p>下面是一个可以试用贪心算法解的题目，贪心解的确不错，可惜不是最优解。</p><p>[0-1背包]<br>有一个背包，背包容量是M&#x3D;150。有7个物品，物品可以分割成任意大小。要求尽可能让装入背包中的物品总价值最大，但不能超过总容量。<br>物品 A B C D E F G<br>重量 35 30 60 50 40 10 25<br>价值 10 40 30 50 35 40 30</p><p>分析：<br>目标函数： ∑pi最大<br>约束条件是装入的物品总重量不超过背包容量：∑wi&lt;&#x3D;M( M&#x3D;150)</p><ol><li>根据贪心的策略，每次挑选价值最大的物品装入背包，得到的结果是否最优？</li><li>每次挑选所占重量最小的物品装入是否能得到最优解？</li><li>每次选取单位重量价值最大的物品，成为解本题的策略。</li></ol><p>值得注意的是，贪心算法并不是完全不可以使用，贪心策略一旦经过证明成立后，它就是一种高效的算法。</p><p>贪心算法还是很常见的算法之一，这是由于它简单易行，构造贪心策略不是很困难。</p><p>可惜的是，它需要证明后才能真正运用到题目的算法中。</p><p>一般来说，贪心算法的证明围绕着：整个问题的最优解一定由在贪心策略中存在的子问题的最优解得来的。</p><p>对于例题中的3种贪心策略，都是无法成立（无法被证明）的，解释如下：</p><p>（1）贪心策略：选取价值最大者。反例：<br>W&#x3D;30<br>物品：A B C<br>重量：28 12 12<br>价值：30 20 20<br>根据策略，首先选取物品A，接下来就无法再选取了，可是，选取B、C则更好。</p><p>（2）贪心策略：选取重量最小。它的反例与第一种策略的反例差不多。</p><p>（3）贪心策略：选取单位重量价值最大的物品。反例：<br>W&#x3D;30<br>物品：A B C<br>重量：28 20 10<br>价值：28 20 10</p><p>根据策略，三种物品单位重量价值一样，程序无法依据现有策略作出判断，如果选择A，则答案错误。</p><h1 id="经典题型"><a href="#经典题型" class="headerlink" title="经典题型"></a>经典题型</h1></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2018-02-13T16:00:00.000Z" title="2/14/2018, 12:00:00 AM">2018-02-14</time></span><span class="level-item">Updated&nbsp;<time datetime="2022-10-21T16:40:33.008Z" title="10/22/2022, 12:40:33 AM">2022-10-22</time></span><span class="level-item"><a class="link-muted" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></span><span class="level-item">2 minutes read (About 276 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/02/14/%E9%9D%A2%E8%AF%95/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></h1><div class="content"><h1 id="操作系统"><a href="#操作系统" class="headerlink" title="操作系统"></a>操作系统</h1><p>1.一个二进制文件运行出结果，操作系统做了什么（这是一个很全面的题）</p><p>2.死锁的条件及银行家算法、资源分配图之类的</p><p>3.进程间通信方式</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">信号、管道、消息队列、共享内存</span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2018/02/14/%E9%9D%A2%E8%AF%95/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2018-02-13T16:00:00.000Z" title="2/14/2018, 12:00:00 AM">2018-02-14</time></span><span class="level-item">Updated&nbsp;<time datetime="2022-10-21T16:40:33.008Z" title="10/22/2022, 12:40:33 AM">2022-10-22</time></span><span class="level-item"><a class="link-muted" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></span><span class="level-item">3 minutes read (About 401 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/02/14/%E9%9D%A2%E8%AF%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">数据结构与算法</a></h1><div class="content"><h1 id="数据结构与算法"><a href="#数据结构与算法" class="headerlink" title="数据结构与算法"></a>数据结构与算法</h1><p>1.数组、链表（单向、双向、双端）、栈和队列、二叉树、红黑树、哈希表、堆（最大和最小）、图</p><p>2.个人经验：栈和队列、哈希表、链表、二叉树的题较多，图的较少</p><p>3.查找：二分查找及其变形</p><p>4.二叉树：前序、中序、后序遍历，按规定方式打印，两个节点之间操作（最近公共祖先、距离）等问题。</p><p>5.最大堆和最小堆：大数量级数据找最大几个等问题、堆如何调整等问题。</p><p>6.图：深度优先、广度优先、单源最小路径Dijkstra，任意两点间最短路径Floyd-Warshall，最小生成树Prime和Kruskal</p><p>7.红黑树：特点及如何调整（基本上没人让你手撸红黑树）</p><p>8.栈和队列：经常作为算法题要用到的数据结构</p><p>8.八大排序：3个简单的：冒泡、选择、插入及其优化，5个高级的：快速排序、归并排序、堆排序、希尔排序、桶排序（快排、归并、堆很重要，经常手撸）</p><p>9.时间复杂度及空间复杂度分析</p><p>10.动态规划dp：这个比较难，背包问题之内的</p><p>推荐：数据结构C语言版（严蔚敏）、Java数据结构和算法（Robert Lafore）、剑指offer及leetcode刷题、大神可以看一下算法导论</p></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2018-02-13T16:00:00.000Z" title="2/14/2018, 12:00:00 AM">2018-02-14</time></span><span class="level-item">Updated&nbsp;<time datetime="2022-10-21T16:40:33.008Z" title="10/22/2022, 12:40:33 AM">2022-10-22</time></span><span class="level-item"><a class="link-muted" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></span><span class="level-item">an hour read (About 7675 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/02/14/%E9%9D%A2%E8%AF%95/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></h1><div class="content"><h1 id="网络的网络"><a href="#网络的网络" class="headerlink" title="网络的网络"></a>网络的网络</h1><p><img src="/2018/02/14/%E9%9D%A2%E8%AF%95/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E7%9A%84%E7%BD%91%E7%BB%9C.png" alt="网络的网络" loading="lazy"></p><p>网络把主机连接起来，而互联网是把多种不同的网络连接起来，因此互联网是网络的网络。</p></div><a class="article-more button is-small is-size-7" href="/2018/02/14/%E9%9D%A2%E8%AF%95/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2018-02-13T16:00:00.000Z" title="2/14/2018, 12:00:00 AM">2018-02-14</time></span><span class="level-item">Updated&nbsp;<time datetime="2022-10-21T16:40:32.976Z" title="10/22/2022, 12:40:32 AM">2022-10-22</time></span><span class="level-item"><a class="link-muted" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></span><span class="level-item">4 minutes read (About 581 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/02/14/%E5%AD%A6%E4%B9%A0/Java/Java/">Java</a></h1><div class="content"><h2 id="J-U-C包的JDK源码（CAS、AQS、ConcurrentHashMap、ThreadLocal、CyclicBarrier、CountDownLatch、Atom、阻塞队列等等）"><a href="#J-U-C包的JDK源码（CAS、AQS、ConcurrentHashMap、ThreadLocal、CyclicBarrier、CountDownLatch、Atom、阻塞队列等等）" class="headerlink" title="J.U.C包的JDK源码（CAS、AQS、ConcurrentHashMap、ThreadLocal、CyclicBarrier、CountDownLatch、Atom、阻塞队列等等）"></a>J.U.C包的JDK源码（CAS、AQS、ConcurrentHashMap、ThreadLocal、CyclicBarrier、CountDownLatch、Atom、阻塞队列等等）</h2><h2 id="IO（writer、reader、InputStream、OutputStream）、NIO等"><a href="#IO（writer、reader、InputStream、OutputStream）、NIO等" class="headerlink" title="IO（writer、reader、InputStream、OutputStream）、NIO等"></a>IO（writer、reader、InputStream、OutputStream）、NIO等</h2><h2 id="对象序列化与反序列化"><a href="#对象序列化与反序列化" class="headerlink" title="对象序列化与反序列化"></a>对象序列化与反序列化</h2><p>序列化：把堆内存中的 Java 对象数据，通过某种方式把对象存储到磁盘文件中或者传递给其他网络节点（在网络上传输）。这个过程称为序列化。通俗来说就是将数据结构或对象转换成二进制串的过程。</p><p>反序列化：把磁盘文件中的对象数据或者把网络节点上的对象数据，恢复成Java对象模型的过程。也就是将在序列化过程中所生成的二进制串转换成数据结构或者对象的过程。</p><p>为什么要做序列化？</p><ol><li>在分布式系统中，此时需要把对象在网络上传输，就得把对象数据转换为二进制形式，需要共享的数据的 Java 对象，都得做序列化。</li><li>服务器钝化：如果服务器发现某些对象好久没活动了，那么服务器就会把这些内存中的对象持久化在本地磁盘文件中（Java 对象转换为二进制文件）；如果服务器发现某些对象需要活动时，先去内存中寻找，找不到再去磁盘文件中反序列化我们的对象数据，恢复成 Java 对象。这样能节省服务器内存。</li></ol></div><a class="article-more button is-small is-size-7" href="/2018/02/14/%E5%AD%A6%E4%B9%A0/Java/Java/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2018-02-13T16:00:00.000Z" title="2/14/2018, 12:00:00 AM">2018-02-14</time></span><span class="level-item">Updated&nbsp;<time datetime="2022-10-21T16:40:33.000Z" title="10/22/2022, 12:40:33 AM">2022-10-22</time></span><span class="level-item"><a class="link-muted" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span><span class="level-item">31 minutes read (About 4603 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/02/14/%E5%AD%A6%E4%B9%A0/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></h1><div class="content"><h1 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h1><h2 id="数据库三范式"><a href="#数据库三范式" class="headerlink" title="数据库三范式"></a>数据库三范式</h2><p><strong>第一范式（1NF）</strong></p><p>无重复的列：数据库表的每一列都是不可分割的基本数据项，同一列中不能同时有多个值，即实体中的某个属性不能有多个值或者不能有重复的属性。如果出现重复的属性，就可能需要定义一个新的实体，新的实体由重复的属性构成，新实体与原实体之间为一对多关系。在第一范式（1NF）中表的每一行只包含一个实例的信息。</p><p>举例1：一张学生表Student(stuNo,stuName,age,age,sex)是不符合第一范式的，因为有重复列age属性。去除重复列age以后的Student(stuNo,stuName,age,sex)是符合第一范式的。</p><p><strong>第二范式（2NF）</strong></p><p>属性完全依赖于主键【消除部分子函数依赖】：数据库表中的每个实例或行必须可以被唯一地区分。为实现区分通常需要为表加上一个列，以存储各个实例的唯一标识。例如员工信息表中加上了员工编号（emp_id）列，因为每个员工的员工编号是唯一的，因此每个员工可以被唯一区分。这个唯一属性列被称为主关键字或主键、主码。实体的属性完全依赖于主关键字。所谓完全依赖是指不能存在仅依赖主关键字一部分的属性，如果存在，那么这个属性和主关键字的这一部分应该分离出来形成一个新的实体，新实体与原实体之间是一对多的关系。为实现区分通常需要为表加上一个列，以存储各个实例的唯一标识。简而言之，第二范式就是属性完全依赖于主键。</p><p>这里说的主关键字可能不只有一个，有些情况下是存在联合主键的，就是主键有多个属性。</p><p><strong>第三范式（3NF）</strong></p><p>属性不依赖于其它非主属性【消除传递依赖】：一个数据库表中不包含已在其它表中已包含的非主关键字信息。</p></div><a class="article-more button is-small is-size-7" href="/2018/02/14/%E5%AD%A6%E4%B9%A0/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93/#more">Read more</a></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/15/">Previous</a></div><div class="pagination-next"><a href="/page/17/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/15/">15</a></li><li><a class="pagination-link is-current" href="/page/16/">16</a></li><li><a class="pagination-link" href="/page/17/">17</a></li><li><a class="pagination-link" href="/page/18/">18</a></li><li><a class="pagination-link" href="/page/19/">19</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar.png" alt="Zoctan"></figure><p class="title is-size-4 is-block" style="line-height:inherit">Zoctan</p><p class="is-size-6 is-block">Full Stack Engineer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">146</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">10</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">10</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/zoctan" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/zoctan"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:zoctan@163.com"><i class="fas fa-envelope"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="https://zoctan.github.io/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Docker/"><span class="level-start"><span class="level-item">Docker</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">40</span></span></a></li><li><a class="level is-mobile" href="/categories/others/"><span class="level-start"><span class="level-item">others</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/usage/"><span class="level-start"><span class="level-item">usage</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%8B%9C%E8%AF%BB/"><span class="level-start"><span class="level-item">拜读</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="level-start"><span class="level-item">数据库</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><span class="level-start"><span class="level-item">数据结构</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%AE%97%E6%B3%95/"><span class="level-start"><span class="level-item">算法</span></span><span class="level-end"><span class="level-item tag">43</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BB%E4%B9%A6/"><span class="level-start"><span class="level-item">读书</span></span><span class="level-end"><span class="level-item tag">27</span></span></a></li><li><a class="level is-mobile" href="/categories/%E9%9D%A2%E8%AF%95/"><span class="level-start"><span class="level-item">面试</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time datetime="2022-10-21T13:10:11.000Z">2022-10-21</time></p><p class="title"><a href="/2022/10/21/test/">test</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2022-10-11T16:00:00.000Z">2022-10-12</time></p><p class="title"><a href="/2022/10/12/usage/V2ray%20+%20Cloudfare%20save%20bang%20ip/">V2ray + Cloudfare save bang ip</a></p><p class="categories"><a href="/categories/usage/">usage</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2019-01-30T16:00:00.000Z">2019-01-31</time></p><p class="title"><a href="/2019/01/31/%E5%AD%A6%E4%B9%A0/docker/Jenkins%20%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2/">Jenkins 自动化部署</a></p><p class="categories"><a href="/categories/Docker/">Docker</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2019-01-28T16:00:00.000Z">2019-01-29</time></p><p class="title"><a href="/2019/01/29/%E5%AD%A6%E4%B9%A0/docker/GitLab%20%E6%90%AD%E5%BB%BA/">GitLab 搭建</a></p><p class="categories"><a href="/categories/Docker/">Docker</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2019-01-28T16:00:00.000Z">2019-01-29</time></p><p class="title"><a href="/2019/01/29/%E5%AD%A6%E4%B9%A0/docker/Registry%20%E6%90%AD%E5%BB%BA/">Registry 搭建</a></p><p class="categories"><a href="/categories/Docker/">Docker</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/10/"><span class="level-start"><span class="level-item">October 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/01/"><span class="level-start"><span class="level-item">January 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/11/"><span class="level-start"><span class="level-item">November 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/10/"><span class="level-start"><span class="level-item">October 2018</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/08/"><span class="level-start"><span class="level-item">August 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/07/"><span class="level-start"><span class="level-item">July 2018</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/06/"><span class="level-start"><span class="level-item">June 2018</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/05/"><span class="level-start"><span class="level-item">May 2018</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/04/"><span class="level-start"><span class="level-item">April 2018</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/03/"><span class="level-start"><span class="level-item">March 2018</span></span><span class="level-end"><span class="level-item tag">49</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/02/"><span class="level-start"><span class="level-item">February 2018</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/01/"><span class="level-start"><span class="level-item">January 2018</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/12/"><span class="level-start"><span class="level-item">December 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/MyBatis/"><span class="tag">MyBatis</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OAuth2/"><span class="tag">OAuth2</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SSO/"><span class="tag">SSO</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Spring/"><span class="tag">Spring</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Spring-Cloud/"><span class="tag">Spring Cloud</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"><span class="tag">函数式编程</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%A0%91/"><span class="tag">树</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%BA%90%E7%A0%81/"><span class="tag">源码</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%AE%97%E6%B3%95%E5%AF%BC%E8%AE%BA/"><span class="tag">算法导论</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="tag">设计模式</span><span class="tag">11</span></a></div></div></div></div></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">Advertisement</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3229148200516708" data-ad-slot="9728616636" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Zoctan&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2022 Zoctan</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Visited by <span id="busuanzi_value_site_uv">0</span> users</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en")</script><script>var IcarusThemeSettings={article:{highlight:{clipboard:!0,fold:"unfolded"}}}</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener("DOMContentLoaded",function(){loadInsight({contentUrl:"/content.json"},{hint:"Type something...",untitled:"(Untitled)",posts:"Posts",pages:"Pages",categories:"Categories",tags:"Tags"})})</script></body></html>